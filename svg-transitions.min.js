// SVG transitions by Zach Townsend
(function(e,t,n,r){e.fn.svgTransition=function(t){function o(e){function t(e){return i.shape.attr(e)}var n=e.nodeName;switch(n){case"rect":return{x:t("x"),y:t("y"),width:t("width"),height:t("height"),rx:t("rx"),ry:t("ry")};break;case"circle":return{cx:t("cx"),cy:t("cy"),r:t("r")};break;case"elipse":return{cx:t("cx"),cy:t("cy"),rx:t("rx"),ry:t("ry")};break;case"line":return{x1:t("x1"),y1:t("y1"),x2:t("x2"),y2:t("y2")};break;case"path":console.log("yo");return{d:t("d")};break;default:return{points:t("points")}}}function u(e){var t=e.attr("id")!="undefined"?"#"+e.attr("id"):e.attr("class")!="undefined"?"."+e.attr("class"):e.prop("tagName");return t}var n=u(this);var r=Snap(n);var i=e.extend({shape:this.children().filter(":first"),initial_state:null,steps_in:null,steps_out:null,speed:200,easing:null},t);var s=r.select(u(i.shape));if(i.initial_state===null)i.initial_state=o(i.shape[0]);if(i.steps_out===null){i.steps_out=i.steps_in.slice(0).reverse();i.steps_out.push(i.initial_state)}var a={animate_shape:function(e,t){var n=e==="in";var r=n?i.steps_in:i.steps_out;var o=0;if(n)s.attr(i.initial_state);var u=function(e){if(e>r.length-1){if(t&&typeof t=="function"){t()}return true}s.animate(r[e],i.speed,i.easing,function(){u(++e)})};u(o)}};return{play:a.animate_shape}}})(jQuery)